<div class="actionContainer">

    <div class="crudBtn">       
        <button mat-raised-button color="primary" *ngIf="!cutomerInvoice" style="margin-right: 10px;" [disabled]="addBtnEnabled" (click)="addQuatation()">Add Quatation</button>
        <button mat-raised-button color="primary" *ngIf="!cutomerInvoice" style="margin-right: 10px;" [disabled]="updateBtnEnabled" (click)="updateQuatationItems()">Update Quatation</button>
        <button mat-raised-button color="primary" *ngIf="!cutomerInvoice" style="margin-right: 10px;"  (click)="addNewQuat()">Add new Quatation</button>
    </div>

    <div class="company">
        <select [(ngModel)]="selectedOption" (change)="selectAddress()">
            <option *ngFor="let option of allCompanyData" [ngValue]="option">
            {{option.cmpName}}
            </option>
        </select>
    </div>

    <div class="btns">
        <button *ngIf="cutomerInvoice" [useExistingCss]="true" printSectionId="invoice-print-section"  mat-raised-button color="primary" ngxPrint>print</button> 
        <button *ngIf="cutomerQuatationInvoice"  [useExistingCss]="true" printSectionId="quatation-print-section"  mat-raised-button color="primary" ngxPrint>print</button> 
    </div>

</div>  

<div *ngIf="cutomerQuatationInvoice" id="quatation-print-section" class="customer-quotation">
  <header>
    <h1>Invoice</h1>

    <div class="logo">
      <img src="../../assets/invoiceLogo.png">
    </div>

    <address contenteditable>
      <h3>BG Solar Energy (Private)Ltd.</h3>
      <p>{{comapnyAddress}}</p>
      <p>Kurunegala, Sri Lanka</p>
      <p>(PV 114860)</p>

      <p>Tel : {{mobile}}</p>
      <p>Fax : {{fax}}</p>
      <p>E-mail : {{email}}</p>
    </address>

    <div [ngClass]="{'confirmed-true': isConfirmed, 'confirmed-false': !isConfirmed}">
      {{isConfirmed}}
    </div>

  </header>
  <article>
    <table class="meta">
      <tr>
        <th><span contenteditable>Quotation No</span></th>
        <td><span contenteditable>{{quatationNumber}}</span></td>
      </tr>
      <tr>
        <th><span contenteditable>Date</span></th>
        <td><span contenteditable>{{quatationqDate}}</span></td>
      </tr>
      <tr>
        <th><span contenteditable>Valid</span></th>
        <td>
          <input id="datePicker" type="date" [(ngModel)]="selectedDate" >
          
        </td>
      </tr>
    </table>
    <table class="inventory">
      <thead>
        <tr>
          <th><span contenteditable>Item</span></th>
          <th><span contenteditable>Rate</span></th>
          <th><span contenteditable>Quantity</span></th>
          <th><span contenteditable>Amount</span></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of quataionItems; let i = index">
          <td>
            <a class="cut" (click)="removeQuotItem(i)">-</a>
            <select [(ngModel)]="item.itemId" (change)="onItemChangeQuot(i)" [disabled]="item.rowDisabled">
              <option  *ngFor="let option of item.rowDisabled ? quatDropdownItems : allItems" [value]="option.itemId">{{option.itemName}}</option>
            </select>

          </td>
          <td>
            <span data-prefix>$</span>
            <span contenteditable (blur)="updateRateQuot(item, $event)">{{item.unitPrice}}</span>
          </td>
          <td>
            <span contenteditable (blur)="updateQuantityQuot(item, $event)">{{item.quantity}}</span>
          </td>
          <td>
            <span data-prefix>$</span>
            <span>{{item.totalPrice}}</span>
          </td>
        </tr>
      </tbody>
    </table>
    <a class="add" (click)="addItem()">+</a>
    <table class="balance totalAmt">
      <tr>
        <th>Total</th>
        <td>
          <span data-prefix>$</span>
          <span>{{totalAmount}}</span>
        </td>
      </tr>
    </table>
  </article>
  <aside>
    <h1><span contenteditable>Thank you for the business</span></h1>
    <div contenteditable>
      
  <div class="invoiceBottom">
      <img src="../../assets//invoiceBottom.png">
  </div>
  </div>
  </aside>
</div>